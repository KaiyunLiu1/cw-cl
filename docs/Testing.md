## 1. Regression Test Plan (v1 Behaviour)

This section documents the high-level regression tests created for the original Swing (v1) version of the game.  
The goal of these tests is to capture *observable behaviour* (movement, physics, combat, enemy AI, map, camera, win condition) so that, after refactoring the codebase to an MVC + JavaFX architecture, we can re-run the same tests on v2 and demonstrate that the behaviour of v1 and v2 is identical.

Each test case below is implemented in `RegressionTest.java` and is cross-referenced with a Git commit where it was introduced or last updated.


| ID  | Test method name                                   | Purpose / Behaviour under test                                                                                                        | Main classes & features covered                                           | Git Commit |
|-----|----------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------|-----------|
| R1  | `playerMovesRightWhenDHeld`                       | Verify that holding the D key causes the player’s x-position to increase over multiple `update()` calls.                             | `Player.update`, `canvas.keysPressed`, horizontal movement                | `TBD`     |
| R2  | `playerMovesLeftWhenAHeld`                        | Verify that holding the A key causes the player’s x-position to decrease over multiple `update()` calls.                             | `Player.update`, `canvas.keysPressed`, horizontal movement                | `TBD`     |
| R3  | `playerJumpsUpwardsWhenWPressed`                  | Ensure that when the player jumps from the ground, the y-position decreases at least once (upward movement) before falling again.    | `Player.jump`, `Player.update`, gravity and jump logic                    | `TBD`     |
| R4  | `playerFallsWhenNoGround`                         | Ensure that when there is no ground below the player, gravity causes the y-position to increase over time (falling).                 | `Player.update`, `entity.gravity`, world without ground                   | `TBD`     |
| R5  | `playerStopsOnGround`                             | Ensure that when there is a block beneath the player, they eventually land and become grounded (`isGrounded = true`).                | `Player.update`, `entity.intersect`, `MapBlocks.map`                      | `TBD`     |
| R6  | `playerFacingDirectionUsesLastDirectionWhenIdle`  | Check that when no movement keys are pressed, the player’s facing direction falls back to the last recorded movement direction.      | `Player.isFacingForwards`, `canvas.isLastDirectionForwards`, input state | `TBD`     |
| R7  | `shootingCreatesBulletAndConsumesAmmo`            | Verify that pressing shoot decreases ammo by one and spawns exactly one bullet in the active bullets list.                           | `Player.shoot`, `Player.update`, `canvas.activeBullets`, ammo tracking    | `TBD`     |
| R8  | `playerCannotShootDuringCooldown`                 | Ensure that attempting to shoot again during the cooldown period does not create extra bullets.                                      | `Player.shoot`, shoot cooldown (`justShot`, `lastShot`)                   | `TBD`     |
| R9  | `damageAppliesHealthLossKnockbackAndCooldown`     | Check that when the player takes damage from an enemy, health decreases, knockback and upward velocity are applied, and damage cooldown prevents repeated damage. | `Player.damage`, `Enemy`, damage flags, knockback and vertical velocity   | `TBD`     |
| R10 | `playerDeathRespawnsAndIncrementsCounter`         | Verify that killing the player increments the global death counter and respawns a new `Player` instance.                             | `Player.kill`, `Player.deathCounter`, `Game.spawnEntities`, `canvas.player` | `TBD`   |
| R11 | `bulletRemovedAfterMaxDistance`                   | Ensure that bullets are removed from the active list after travelling their maximum allowed distance.                                | `bullet.update`, `canvas.activeBullets`, bullet travel distance           | `TBD`     |
| R12 | `bulletDamagesEnemy`                              | Verify that when a bullet collides with an enemy, the enemy’s health is reduced.                                                     | `bullet.update`, bullet–enemy collision, `Enemy.health`, `canvas.enemies` | `TBD`     |
| R13 | `enemyStopsWhenPlayerOutsideDetectionRange`       | Ensure that an enemy does not move (speed remains 0) when the player is far outside its detection radius.                            | `Enemy.doBehavior`, detection range check, idle behaviour                 | `TBD`     |
| R14 | `enemyAdjustsMovementAndFacingRelativeToPlayer`   | Ensure that when the enemy is within detection range, it (1) moves left towards a player on its left, (2) moves right towards a player on its right, and (3) stops (speed = 0) when very close to the player. | `Enemy.doBehavior`, horizontal speed adjustment, `isFacingForwards`, close-range stop (`Math.abs(x - p.x) < 20`) | `TBD` |
| R15 | `enemyDamageAndDeathRemovesFromList`              | Verify that an enemy becomes damaged after being hit and, when health reaches 0, is removed from the global enemy list.              | `Enemy.damage`, `Enemy.doBehavior`, death condition, `canvas.enemies`     | `TBD`     |
| R16 | `enemyAnimationStateTransitionsCorrectly`         | Check that the enemy’s state machine transitions between `walking`, `running` and `aerial` based on movement, grounded and running flags. | `Enemy.updateState`, `entitystate`, `isGrounded`, `isRunning`, `speed` | `TBD`     |
| R17 | `reachingTunnelTriggersWin`                       | Ensure that when the player’s x-position passes the tunnel threshold, the game win flag is set to true.                             | `Player.update`, `CyborgPlatform.game.isWon`, level end condition         | `TBD`     |
| R18 | `mapBlocksLoadsCorrectTileLayout`                 | Verify that the map parsing logic correctly creates blocks only for tiles marked with `'1'` in a simple fake map string.             | `MapBlocks`, `MapBlocks.map`, `MapBlocks.mapWidth`, tile parsing          | `TBD`     |
| R19 | `cameraFollowsPlayerCorrectly`                    | Ensure that the camera offset follows the player in the middle of the map and clamps at the left and right boundaries.              | `Player.updateCmr`, `MapBlocks.mapWidth`, camera behaviour                | `TBD`     |

